# 保護猫一覧ページ仕様書

## 1. ページ概要

**保護猫との出会いを提供するメインページ**です。
ユーザーは登録されている保護猫を閲覧し、様々な条件で検索して、気になる猫を見つけることができます。
里親ユーザー・保護団体ユーザー・未ログインゲストの全員がアクセス可能です。

---

## 2. 画面レイアウト・コンテンツ配置

### 2.1 ヒーローセクション (最上部)

- **キャッチコピー**: 「運命のパートナーを探そう」などのメインメッセージを表示。
- **リード文**: 保護猫との出会いを促すサブテキスト。
- **デザイン**: 中央揃えで大きく配置し、ファーストビューでの印象を強める。

### 2.2 検索・フィルタリングエリア (中央上部)

Glassmorphismを採用したパネル内に検索条件を集約。

- **フリーワード検索フォーム**:
  - `Input` コンポーネントを使用。
  - 名前、品種、性格などを横断的に検索可能。
- **条件セレクト**:
  - **性別**: 男の子 / 女の子 / 不明
  - **ステータス**: 募集中 (デフォルト) / 交渉中 / トライアル / 譲渡完了
- **年齢フィルター**:
  - 最小年齢 (`min_age`) 〜 最大年齢 (`max_age`) の数値入力フィールド。
  - 0歳〜指定可能。

### 2.3 猫一覧グリッド (メインエリア)

検索条件に合致する猫をカード形式でタイル表示。

- **レイアウト**:
  - PC: 3〜4列 (`grid-cols-3` / `lg:grid-cols-4`)
  - タブレット: 2列
  - スマホ: 1列
- **コンテンツ (各カード)**:
  - **メイン画像**: サムネイルを表示。ホバー時に拡大エフェクト。画像なしはプレースホルダー。
  - **ステータスバッジ**: 右上に「募集中」などを表示。
  - **基本情報**: 名前（太字）、年齢、性別アイコン、品種。
  - **詳細情報**: 保護団体名、登録日。

### 2.4 ページネーション (下部)

- **Load More ボタン**:
  - 「もっと見る」ボタンを配置。
  - クリックすると次の20件を追加読み込みして下に表示する（無限スクロール形式）。
  - 全件表示済みの場合、ボタンは非表示になる。

---

## 3. 実装詳細

### ファイル

- `frontend/src/app/cats/page.tsx`
- `frontend/src/components/cats/CatCard.tsx`

### 技術的実装

1.  **データ取得 (SWR Infinite)**:
    - `useSWRInfinite` を使用し、ページネーション（Load More）を実現。
    - APIエンドポイント: `/api/cats/`
    - クエリパラメータ (`search`, `status`, `min_age` 等) が変更されると、自動的にリストをリフレッシュする。

2.  **フィルタリングロジック**:
    - `useState` で `CatFilters` 型のフィルタ状態を管理。
    - 入力変更 (`onChange`) をトリガーにStateを更新し、SWRのキー (`getCatsKey`) が再計算され、APIリクエストが飛ぶ仕組み。
    - **年齢フィルタ**: APIの実装に対応済み。`min_age`, `max_age` パラメータで範囲検索を行う。

3.  **UIコンポーネント & スタイリング**:
    - **Tailwind CSS**: グリッドやレイアウト制御に `grid-cols-*` などのユーティリティクラスを全面的に採用。
    - **Glassmorphism**: `glass` ユーティリティクラス（`@apply` で定義）や標準クラス `bg-white/70 backdrop-blur-md` でデザインを実現。
    - 各猫の表示には `CatCard` コンポーネントを使用。
    - ステータス表示には `StatusBadge` を使用。

4.  **レスポンシブ対応**:
    - Tailwind CSS Grid (`grid-cols-*`) を使用し、画面幅に応じた列数制御を実装。
