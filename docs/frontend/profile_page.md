# マイページ仕様書

## 1. ページ概要

ログイン中のユーザー自身の情報を確認・編集し、アカウント操作を行うページです。

---

## 2. 画面レイアウト・コンテンツ配置

### 2.1 プロフィールカード

画面中央に配置。

- **ヘッダー**:
  - ユーザーアイコン（現在はプレースホルダー）。
  - ユーザー名（太字）。
  - ユーザータイプバッジ（保護団体 / 里親希望）。

### 2.2 編集フォーム

- **表示モード**:
  - ユーザー名、メールアドレスを `Input` (disabled) で表示。
  - 「編集する」ボタンを配置。
- **編集モード**:
  - 各 `Input` が入力可能になる。
  - 「保存する」「キャンセル」ボタンを表示。

### 2.3 アカウント操作

- **ログアウトボタン**:
  - カードの下部に赤字で配置。
  - クリックでログアウト処理を実行し、トップページへ遷移。

---

## 3. 実装詳細

### ファイル

- `frontend/src/app/profile/page.tsx`

### 技術的実装

1.  **データ管理**:
    - **初期表示**: `AuthContext` が保持するキャッシュを使用（高速表示）。
    - **データ同期**: ページロード時に `useSWR('/api/auth/profile/')` をコールし、最新のユーザー情報をバックエンドから再取得して同期することを推奨。
    - 編集時は `authService.updateProfile` を呼び出し、バックエンドを更新。

2.  **編集対象フィールド**:
    - **変更可能**: ユーザー名、メールアドレス。
    - **変更不可**: ユーザータイプ（Shelter/Adopter）、ユーザーID。
    - _将来拡張_: プロフィール画像、保護団体情報（住所・電話番号等）の編集機能追加を想定。

3.  **モード切替**:
    - `isEditing` (Boolean) ステートにより、表示モードと編集モードのUIを排他的に切り替え。

4.  **ログアウト**:
    - `AuthContext` の `logout()` メソッドを実行（Cookie削除・Stateクリア）。
