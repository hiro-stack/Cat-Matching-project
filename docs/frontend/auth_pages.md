# 認証ページ仕様書 (ログイン・登録)

## 1. ページ概要

ユーザーがアプリケーションを利用するための入り口となるページ群です。
**ログインページ**と**新規登録ページ**で構成されます。

---

## 2. 画面レイアウト・コンテンツ配置

### 2.1 ログインページ (`/login`)

画面中央にカード形式で配置。

- **入力フォーム**:
  - ユーザー名
  - パスワード
- **アクション**:
  - 「ログイン」ボタン（メイン）。
  - エラー表示エリア（認証失敗時に赤字で表示）。
- **ナビゲーション**:
  - 下部に「新規登録はこちら」のリンク。

### 2.2 新規登録ページ (`/register`)

2ステップのウィザード形式を採用。

#### ステップ1: ユーザータイプ選択

大きく2つのボタンを並列表示。

1.  **里親希望の方 (Adopter)**:
    - 説明: 「保護猫を家族として迎え入れたい方」
    - スタイル: Primary Color (Pink) で強調。
2.  **保護団体の方 (Shelter)**:
    - 説明: 「保護猫を掲載し、里親を探したい方」
    - スタイル: Secondary Color (Teal) で強調。

#### ステップ2: アカウント情報入力

選択されたタイプに基づき、登録フォームを表示。

- **入力フォーム**:
  - ユーザー名
  - メールアドレス
  - パスワード
- **アクション**:
  - 「戻る」ボタン（タイプ選択へ戻る）。
  - 「登録する」ボタン（API送信）。

---

## 3. 実装詳細

### ファイル

- `frontend/src/app/login/page.tsx`
- `frontend/src/app/register/page.tsx`

### 技術的実装

1.  **認証コンテキスト連携 (`useAuth`)**:
    - `login()`, `register()` 関数を呼び出し、バックエンドAPIへリクエスト。
    - 成功時はCookieにトークンがセットされ、`AuthContext` の `user` ステートが更新される。

2.  **エラーハンドリング**:
    - APIからの `400 Bad Request` や `401 Unauthorized` をcatch。
    - `err.response.data.detail` を読み取り、画面上の `error` Stateにセットしてユーザーに通知する。

3.  **ウィザードUI (登録画面)**:
    - ローカルState (`step`) で表示を切り替え。
    - ユーザータイプ (`userType`) をStateで保持し、登録APIのリクエストボディに含める。
